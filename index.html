<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CINEMA CONCERT : 사계(四季)</title>
    <style>
        /* 기본 스타일 초기화 및 모바일 최적화 */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background-color: #1a0000; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; /* 부모 높이 고정 */
            overflow: hidden; /* 바디 스크롤 방지 */
        }

        /* 캐러셀 컨테이너 */
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 500px; /* 1080x1920 비율 고려 시 적당한 너비 */
            height: 90vh; /* 화면 높이의 90%만 차지하도록 설정 (이미지가 길기 때문) */
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        /* 슬라이드 트랙 */
        .carousel-slide {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* 개별 슬라이드 이미지 */
        .carousel-slide img {
            width: 100%; /* 부모(container) 너비에 맞춤 */
            height: 100%;
            flex-shrink: 0; /* 이미지 크기 축소 방지 */
            object-fit: contain; /* 9:16 비율이 깨지지 않게 전체 보존 */
        }

        /* 버튼 스타일 개선 (터치 영역 확대) */
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            border: none;
            font-size: 1.5rem;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .prev-btn { left: 15px; }
        .next-btn { right: 15px; }

        /* 인디케이터 */
        .carousel-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }
        .indicator {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: 0.3s;
        }
        .indicator.active {
            background-color: #fff;
            transform: scale(1.2);
        }
    </style>
</head>
<body>

    <div class="carousel-container">
        <div class="carousel-slide">
            <img src="sp.png" alt="봄 셋리스트">
            <img src="su.png" alt="여름 셋리스트">
            <img src="at.png" alt="가을 셋리스트">
            <img src="wi.png" alt="겨울 셋리스트">
        </div>

        <button class="carousel-btn prev-btn" aria-label="이전">&#10094;</button>
        <button class="carousel-btn next-btn" aria-label="다음">&#10095;</button>

        <div class="carousel-indicators">
            <div class="indicator active"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
        </div>
    </div>

    <script>
        const slideContainer = document.querySelector('.carousel-slide');
        const slides = document.querySelectorAll('.carousel-slide img');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const indicators = document.querySelectorAll('.indicator');

        let counter = 0;

        function updateCarousel() {
            // px 단위 대신 % 단위를 사용하여 반응형 대응
            slideContainer.style.transform = `translateX(${-100 * counter}%)`;
            
            // 인디케이터 업데이트
            indicators.forEach((ind, index) => {
                ind.classList.toggle('active', index === counter);
            });
        }

        nextBtn.addEventListener('click', () => {
            counter = (counter >= slides.length - 1) ? 0 : counter + 1;
            updateCarousel();
        });

        prevBtn.addEventListener('click', () => {
            counter = (counter <= 0) ? slides.length - 1 : counter - 1;
            updateCarousel();
        });

        // 인디케이터 클릭 이벤트
        indicators.forEach((ind, index) => {
            ind.addEventListener('click', () => {
                counter = index;
                updateCarousel();
            });
        });

        // 모바일 스와이프 기능 추가 (선택 사항이나 추천)
        let touchStartX = 0;
        let touchEndX = 0;

        slideContainer.addEventListener('touchstart', e => touchStartX = e.changedTouches[0].screenX);
        slideContainer.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchStartX - touchEndX > 50) nextBtn.click();
            if (touchEndX - touchStartX > 50) prevBtn.click();
        }
    </script>
</body>
</html>
